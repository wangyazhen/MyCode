<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件的生命周期</title>
    <script src="js/react-v0.13.2.js"></script>
    <script src="js/JSXTransformer-v0.13.2.js"></script>
</head>
<body>
<div id="example"></div>

<script type="text/jsx">
    var Test = React.createClass({
        getInitialState: function () {
            return {opacity: 1.0};
        },
        componentDidMount: function() {
            this.timer = setInterval(function() {
                var opacity = this.state.opacity;
                opacity -= 0.05;
                if (opacity < 0.1) {
                    opacity = 1.0
                }
                this.setState({opacity: opacity});
            }.bind(this), 150);
        },
        render: function() {
            return (
                <h1 style={{opacity: this.state.opacity,color: 'red'}}>
                 你好 {this.props.name}
                </h1>
            ) ;
        }
    });
    
    React.render(<Test name=" React"/>, document.getElementById('example'));
</script>

</body>
</html>