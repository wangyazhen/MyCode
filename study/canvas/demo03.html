<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>canvas 学习</title>

	<style>
		body{background-color: #2d2d2d;}
		#demo{background-color: #fff;}
		
		button.btn {
			padding: 6px 12px;
			outline: none;
			border: 2px solid #ddd;
			font-size: 18px;
		}
		button.btn:active{
			border-color: red;
		}
		.gold {background-color: gold;}
		.lig {background-color: lightgreen;}
		.danger{background-color: red}
	</style>
</head>
<body>
	<canvas id="demo" width="600" height="400">您的浏览器不支持canvas标签</canvas>
	<div class="btn-group">
		<button class="btn gold" onclick="changeColor('gold')">红色</button>
		<button class="btn lig" onclick="changeColor('lightgreen')">绿色</button>
		<button class="btn" onclick="changeColor('blue')">恢复默认</button>
		<button class="btn danger" onclick="clearBroad()">清空画板</button>
	</div>

<script>
	
	var canvas = document.getElementById('demo');
	var context = canvas.getContext('2d');		
	
	function changeColor(color) {
		context.strokeStyle = color;
	}
	function initial(event) {
		//context.strokeStyle='blue';		
		var e = event || window.event;
		context.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);

		canvas.onmousemove = function(ev) {
			var ev = ev || window.event;
			console.log('lineTo t: ', ev.clientY - canvas.offsetTop);
			context.lineTo(ev.clientX - canvas.offsetLeft, ev.clientY - canvas.offsetTop);
			context.stroke();
		};
		document.onmouseup = function() {
			canvas.onmousemove = null;
			document.onmouseup  = null;
		};
	}
	canvas.onmousedown = initial
	
	

	function clearBroad() {
		// context.clearRect(0,0,600,400);
		// 
		canvas.width = canvas.width;
	}
</script>	
</body>
</html>